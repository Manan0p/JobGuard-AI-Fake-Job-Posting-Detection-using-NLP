"timestamp","job_description","prediction","confidence"
"2025-11-21 13:36:39","from flask import Flask, render_template, request
import joblib
import os, csv
from datetime import datetime
import pandas as pd

app = Flask(__name__)

# Load model and vectorizer
model = joblib.load('fake_job_model.pkl')
vectorizer = joblib.load('tfidf_vectorizer.pkl')

# Global counters and last prediction cache
fake_count = 0
real_count = 0
last_label = None
last_confidence = None
last_text = None

LOG_PATH = 'predictions_log.csv'


@app.route('/')
def home():
    return render_template(
        'index.html',
        fake=fake_count,
        real=real_count,
        last_label=last_label,
        last_confidence=last_confidence,
        last_text=last_text
    )


def append_log(description, label, confidence):
    file_empty = (not os.path.isfile(LOG_PATH)) or os.path.getsize(LOG_PATH) == 0
    with open(LOG_PATH, 'a', newline='', encoding='utf-8') as f:
        w = csv.writer(f, quoting=csv.QUOTE_ALL)
        if file_empty:
            w.writerow(['timestamp', 'job_description', 'prediction', 'confidence'])
        w.writerow([datetime.now().strftime('%Y-%m-%d %H:%M:%S'), description, label, confidence])


@app.route('/history')
def history():
    if not os.path.isfile(LOG_PATH) or os.path.getsize(LOG_PATH) == 0:
        return render_template('history.html', rows=[], headers=['timestamp', 'job_description', 'prediction', 'confidence'])
    try:
        df = pd.read_csv(LOG_PATH)
    except pd.errors.EmptyDataError:
        return render_template('history.html', rows=[], headers=['timestamp', 'job_description', 'prediction', 'confidence'])
    return render_template('history.html', rows=df.values.tolist(), headers=df.columns.tolist())


@app.route('/predict', methods=['POST'])
def predict():
    global fake_count, real_count, last_label, last_confidence, last_text
    job_desc = request.form.get('job_description', '').strip()

    # Validation
    if not job_desc:
        return render_template(
            'index.html',
            error=""Description cannot be empty."",
            fake=fake_count, real=real_count,
            last_label=last_label, last_confidence=last_confidence, last_text=last_text
        )
    if len(job_desc.split()) < 5:
        return render_template(
            'index.html',
            error=""Please enter at least 5 words."",
            fake=fake_count, real=real_count,
            last_label=last_label, last_confidence=last_confidence, last_text=last_text
        )
    letters = sum(c.isalpha() for c in job_desc)
    ratio = letters / max(1, len(job_desc))
    if ratio < 0.40:
        return render_template(
            'index.html',
            error=""Input seems non-text (too many numbers/symbols)."",
            fake=fake_count, real=real_count,
            last_label=last_label, last_confidence=last_confidence, last_text=last_text
        )

    # Predict
    X_input = vectorizer.transform([job_desc])
    pred = model.predict(X_input)[0]
    prob = model.predict_proba(X_input)[0][1]

    label = ""Fake Job"" if pred == 1 else ""Real Job""
    confidence = round(prob * 100, 2) if pred == 1 else round((1 - prob) * 100, 2)

    if pred == 1:
        fake_count += 1
    else:
        real_count += 1

    last_label = label
    last_confidence = confidence
    last_text = job_desc

    append_log(job_desc, label, confidence)

    return render_template(
        'result.html',
        label=label,
        confidence=confidence,
        description=job_desc,
        fake=fake_count,
        real=real_count
    )


if __name__ == '__main__':
    app.run(debug=True)","Real Job","60.81"
"2025-11-21 13:36:56","500+ Internships. One Month. One Massive Drop. ü§ç 
I skipped posting in October‚Ä¶ and honestly, I did not expect the flood of messages that followed.

So yes , the November Internship Mega-List is officially BACK.
I‚Äôve compiled 500+ verified opportunities across: internships (tech, non-tech, research, policy, product & more), startup roles, corporate openings, global programs &niche profiles you won‚Äôt find in usual roundups
Perfect for undergrads, freshers, and anyone trying to end the year with momentum.

If you want the full list:
 1Ô∏è‚É£ Follow karlo :)
 2Ô∏è‚É£ Drop your email in the comments or DM me.","Real Job","87.5"
"2025-11-21 13:39:12","Hiring a full time intern to work closely with me.
Problem solvers with hands on experience is a huge +

If you like tech, ai & content, have a laptop, an internet connection, time and curiosity ‚Äì you qualify.

Apply here : https://lnkd.in/dSpfU4PX

Reply ‚Äúwork‚Äù to this if you want to give it a shot üëÄ

Share this with a friend and help spread the word ty ü§≤üèº

Update : over 500 applicants kinda broke the form. Closed for now while I sift through what I have thank you","Real Job","65.34"
"2025-11-21 13:51:08","<!DOCTYPE html>
<html lang=""en"">
<head>
  <meta charset=""UTF-8"">
  <title>Fake Job Detection</title>
  <link href=""https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"" rel=""stylesheet"">
  <style>
    :root {
      --bg:#0f172a;
      --panel:#1e293b;
      --accent:#3b82f6;
      --accent-hover:#1d4ed8;
      --text:#f1f5f9;
      --danger:#dc2626;
      --muted:#94a3b8;
    }
    body {
      font-family:""Inter"", Arial, sans-serif;
      background:var(--bg);
      color:var(--text);
      margin:0;
      padding:40px 20px;
    }
    h2 { margin-top:0; letter-spacing:.5px; }
    form {
      background:var(--panel);
      padding:28px 34px;
      border-radius:14px;
      max-width:760px;
      margin:0 auto 28px;
      box-shadow:0 8px 20px -6px rgba(0,0,0,.45);
    }
    textarea {
      width:100%;
      min-height:160px;
      resize:vertical;
      padding:14px;
      font-size:15px;
      border:1px solid #334155;
      border-radius:10px;
      background:#0f1e33;
      color:var(--text);
      outline:none;
    }
    textarea:focus { border-color:var(--accent); }
    button {
      margin-top:18px;
      padding:14px 26px;
      font-size:15px;
      font-weight:600;
      letter-spacing:.5px;
      border:none;
      border-radius:10px;
      background:linear-gradient(135deg,var(--accent),#6366f1);
      color:#fff;
      cursor:pointer;
      transition:.18s;
      box-shadow:0 4px 14px -4px #1d4ed8;
    }
    button:hover {
      transform:translateY(-2px);
      background:linear-gradient(135deg,var(--accent-hover),#4f46e5);
    }
    .tips {
      max-width:760px;
      margin:0 auto 30px;
      background:#13263f;
      padding:22px 28px;
      border-left:5px solid var(--accent);
      border-radius:12px;
      line-height:1.45;
    }
    .tips h3 { margin:0 0 12px; font-size:19px; }
    .tips ul { margin:0; padding-left:20px; }
    .tips li { margin-bottom:6px; }
    .error {
      color:var(--danger);
      margin-top:12px;
      font-weight:600;
    }
    footer {
      margin-top:40px;
      text-align:center;
      font-size:13px;
      color:var(--muted);
    }
    footer span { color:var(--accent); font-weight:600; }
  </style>
</head>
<body>
  <h2>Fake Job Detection System</h2>

  <div style=""max-width:760px;margin:0 auto 10px;text-align:right;"">
    <a href=""/history"" style=""text-decoration:none;"">
      <button type=""button"" style=""background:#6366f1;padding:10px 18px;border:none;border-radius:8px;color:#fff;cursor:pointer;"">
        View History
      </button>
    </a>
  </div>

  <script>
    function validateForm(evt) {
      const ta = document.getElementById('job_description');
      const text = ta.value.trim();
      if (!text) {
        alert(""Description cannot be empty."");
        evt.preventDefault();
        return;
      }
      if (text.split(/\s+/).length < 5) {
        alert(""Please enter at least 5 words."");
        evt.preventDefault();
        return;
      }
      const letters = (text.match(/[A-Za-z]/g) || []).length;
      const ratio = letters / text.length;
      if (ratio < 0.40) {
        alert(""Input looks non-text (too many numbers/symbols)."");
        evt.preventDefault();
      }
    }
  </script>

  <div style=""max-width:760px;margin:0 auto 20px;display:flex;gap:18px;"">
    <div style=""flex:1;background:#13263f;padding:14px 18px;border-radius:10px;"">
      <strong>Fake Predictions</strong><br>{{ fake or 0 }}
    </div>
    <div style=""flex:1;background:#13263f;padding:14px 18px;border-radius:10px;"">
      <strong>Real Predictions</strong><br>{{ real or 0 }}
    </div>
  </div>

  {% if last_label %}
  <div style=""max-width:760px;margin:0 auto 24px;background:#13263f;padding:20px 24px;border-radius:12px;"">
    <h3 style=""margin-top:0;"">Last Prediction Result</h3>
    <p>
      <span style=""
        display:inline-block;padding:8px 16px;border-radius:8px;font-weight:600;
        background:
          {% if last_label == 'Fake Job' %}
            linear-gradient(135deg,#dc2626,#ef4444)
          {% else %}
            linear-gradient(135deg,#16a34a,#22c55e)
          {% endif %};
        "">
        {{ last_label }}
      </span>
    </p>
    <label style=""font-size:14px;"">Confidence:</label>
    <progress value=""{{ last_confidence }}"" max=""100"" style=""width:100%;height:20px;""></progress>
    <div style=""text-align:right;font-size:12px;margin-top:4px;"">{{ last_confidence }}%</div>
    <details style=""margin-top:10px;"">
      <summary style=""cursor:pointer;"">Show last description</summary>
      <div style=""margin-top:8px;font-size:13px;line-height:1.4;white-space:pre-wrap;"">{{ last_text }}</div>
    </details>
  </div>
  {% endif %}

  <form action=""/predict"" method=""POST"" onsubmit=""validateForm(event)"">
    <label for=""job_description""><b>Enter Job Description:</b></label><br><br>
    <textarea name=""job_description"" id=""job_description"" placeholder=""Paste job post text here..."" required></textarea><br>
    <button type=""submit"">Check Authenticity</button>
    {% if error %}
    <div style=""margin-top:14px;padding:12px 16px;border-radius:10px;background:#2d3a4d;border:1px solid #dc2626;color:#fca5a5;font-weight:600;"">
      ‚ö† {{ error }}
    </div>
    {% endif %}
  </form>

  <div class=""tips"">
    <h3>Tips to Identify Fake Jobs</h3>
    <ul>
      <li>Unrealistic salary or ‚Äúearn $$$ fast‚Äù phrasing.</li>
      <li>Requests for payment (training, onboarding, equipment).</li>
      <li>Generic emails (gmail/yahoo) for official communication.</li>
      <li>Pressure tactics: ‚ÄúApply immediately‚Äù, ‚ÄúLimited slots‚Äù.</li>
      <li>Poor grammar, vague role responsibilities.</li>
      <li>Asking for personal documents early (ID, bank details).</li>
    </ul>
  </div>

  <footer>
    <div>
      Project: <span>Fake Job Posting Detector</span> |
      Team: <span>Your Team Name</span> |
      Author: <span>Your Name</span>
    </div>
  </footer>
</body>
</html>","Real Job","55.78"
